(function e(t){"use strict";if(typeof define==="function"&&define.amd){define(t)}else if(typeof module!="undefined"&&typeof module.exports!="undefined"){module.exports=t()}else{window["Sortable"]=t()}})(function e(){"use strict";if(typeof window=="undefined"||!window.document){return function e(){throw new Error("Sortable.js requires a window with a document")}}var t,i,n,o,r,a,s,l,f,c,u,h,d,p,g,v,m,b={},_,D,y,w=/\s+/g,T=/left|right|inline/,C="Sortable"+(new Date).getTime(),S=window,E=S.document,x=S.parseInt,N=S.jQuery||S.Zepto,k=S.Polymer,B=false,Y=!!("draggable"in E.createElement("div")),O=function(e){if(!!navigator.userAgent.match(/Trident.*rv[ :]?11\./)){return false}e=E.createElement("x");e.style.cssText="pointer-events:auto";return e.style.pointerEvents==="auto"}(),X=false,A=Math.abs,M=Math.min,P=[],R=[],I=oe(function(e,t,i){if(i&&t.scroll){var n=i[C],o,r,a=t.scrollSensitivity,s=t.scrollSpeed,u=e.clientX,h=e.clientY,d=window.innerWidth,p=window.innerHeight,g,v,m,_;if(f!==i){l=t.scroll;f=i;c=t.scrollFn;if(l===true){l=i;do{if(l.offsetWidth<l.scrollWidth||l.offsetHeight<l.scrollHeight){break}}while(l=l.parentNode)}}if(l){o=l;r=l.getBoundingClientRect();g=(A(r.right-u)<=a)-(A(r.left-u)<=a);v=(A(r.bottom-h)<=a)-(A(r.top-h)<=a)}if(!(g||v)){g=(d-u<=a)-(u<=a);v=(p-h<=a)-(h<=a);(g||v)&&(o=S)}if(b.vx!==g||b.vy!==v||b.el!==o){b.el=o;b.vx=g;b.vy=v;clearInterval(b.pid);if(o){b.pid=setInterval(function(){_=v?v*s:0;m=g?g*s:0;if("function"===typeof c){return c.call(n,m,_,e)}if(o===S){S.scrollTo(S.pageXOffset+m,S.pageYOffset+_)}else{o.scrollTop+=_;o.scrollLeft+=m}},24)}}}},30),L=function(e){function t(e,t){if(e===void 0||e===true){e=i.name}if(typeof e==="function"){return e}else{return function(i,n){var o=n.options.group.name;return t?e:e&&(e.join?e.indexOf(o)>-1:o==e)}}}var i={};var n=e.group;if(!n||typeof n!="object"){n={name:n}}i.name=n.name;i.checkPull=t(n.pull,true);i.checkPut=t(n.put);i.revertClone=n.revertClone;e.group=i};function F(e,t){if(!(e&&e.nodeType&&e.nodeType===1)){throw"Sortable: `el` must be HTMLElement, and not "+{}.toString.call(e)}this.el=e;this.options=t=re({},t);e[C]=this;var i={group:Math.random(),sort:true,disabled:false,store:null,handle:null,scroll:true,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:true,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:false,dragoverBubble:false,dataIdAttr:"data-id",delay:0,forceFallback:false,fallbackClass:"sortable-fallback",fallbackOnBody:false,fallbackTolerance:0,fallbackOffset:{x:0,y:0}};for(var n in i){!(n in t)&&(t[n]=i[n])}L(t);for(var o in this){if(o.charAt(0)==="_"&&typeof this[o]==="function"){this[o]=this[o].bind(this)}}this.nativeDraggable=t.forceFallback?false:Y;V(e,"mousedown",this._onTapStart);V(e,"touchstart",this._onTapStart);V(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){V(e,"dragover",this);V(e,"dragenter",this)}R.push(this._onDragOver);t.store&&this.sort(t.store.get(this))}F.prototype={constructor:F,_onTapStart:function(e){var i=this,n=this.el,o=this.options,r=o.preventOnFilter,a=e.type,l=e.touches&&e.touches[0],f=(l||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0])||f,u=o.filter,h;se(n);if(t){return}if(/mousedown|pointerdown/.test(a)&&e.button!==0||o.disabled){return}f=j(f,o.draggable,n);if(!f){return}if(s===f){return}h=ie(f,o.draggable);if(typeof u==="function"){if(u.call(this,e,f,this)){Z(i,c,"filter",f,n,h);r&&e.preventDefault();return}}else if(u){u=u.split(",").some(function(e){e=j(c,e.trim(),n);if(e){Z(i,e,"filter",f,n,h);return true}});if(u){r&&e.preventDefault();return}}if(o.handle&&!j(c,o.handle,n)){return}this._prepareDragStart(e,l,f,h)},_prepareDragStart:function(e,n,o,l){var f=this,c=f.el,u=f.options,h=c.ownerDocument,d;if(o&&!t&&o.parentNode===c){_=e;r=c;t=o;i=t.parentNode;a=t.nextSibling;s=o;v=u.group;p=l;this._lastX=(n||e).clientX;this._lastY=(n||e).clientY;t.style["will-change"]="transform";d=function(){f._disableDelayedDrag();t.draggable=f.nativeDraggable;z(t,u.chosenClass,true);f._triggerDragStart(e,n);Z(f,r,"choose",t,r,p)};u.ignore.split(",").forEach(function(e){Q(t,e.trim(),K)});V(h,"mouseup",f._onDrop);V(h,"touchend",f._onDrop);V(h,"touchcancel",f._onDrop);V(h,"pointercancel",f._onDrop);V(h,"selectstart",f);if(u.delay){V(h,"mouseup",f._disableDelayedDrag);V(h,"touchend",f._disableDelayedDrag);V(h,"touchcancel",f._disableDelayedDrag);V(h,"mousemove",f._disableDelayedDrag);V(h,"touchmove",f._disableDelayedDrag);V(h,"pointermove",f._disableDelayedDrag);f._dragStartTimer=setTimeout(d,u.delay)}else{d()}}},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer);q(e,"mouseup",this._disableDelayedDrag);q(e,"touchend",this._disableDelayedDrag);q(e,"touchcancel",this._disableDelayedDrag);q(e,"mousemove",this._disableDelayedDrag);q(e,"touchmove",this._disableDelayedDrag);q(e,"pointermove",this._disableDelayedDrag)},_triggerDragStart:function(e,i){i=i||(e.pointerType=="touch"?e:null);if(i){_={target:t,clientX:i.clientX,clientY:i.clientY};this._onDragStart(_,"touch")}else if(!this.nativeDraggable){this._onDragStart(_,true)}else{V(t,"dragend",this);V(r,"dragstart",this._onDragStart)}try{if(E.selection){setTimeout(function(){E.selection.empty()})}else{window.getSelection().removeAllRanges()}}catch(e){}},_dragStarted:function(){if(r&&t){var e=this.options;z(t,e.ghostClass,true);z(t,e.dragClass,false);F.active=this;Z(this,r,"start",t,r,p)}else{this._nulling()}},_emulateDragOver:function(){if(D){if(this._lastX===D.clientX&&this._lastY===D.clientY){return}this._lastX=D.clientX;this._lastY=D.clientY;if(!O){G(n,"display","none")}var e=E.elementFromPoint(D.clientX,D.clientY),t=e,i=R.length;if(t){do{if(t[C]){while(i--){R[i]({clientX:D.clientX,clientY:D.clientY,target:e,rootEl:t})}break}e=t}while(t=t.parentNode)}if(!O){G(n,"display","")}}},_onTouchMove:function(e){if(_){var t=this.options,i=t.fallbackTolerance,o=t.fallbackOffset,r=e.touches?e.touches[0]:e,a=r.clientX-_.clientX+o.x,s=r.clientY-_.clientY+o.y,l=e.touches?"translate3d("+a+"px,"+s+"px,0)":"translate("+a+"px,"+s+"px)";if(!F.active){if(i&&M(A(r.clientX-this._lastX),A(r.clientY-this._lastY))<i){return}this._dragStarted()}this._appendGhost();y=true;D=r;G(n,"webkitTransform",l);G(n,"mozTransform",l);G(n,"msTransform",l);G(n,"transform",l);e.preventDefault()}},_appendGhost:function(){if(!n){var e=t.getBoundingClientRect(),i=G(t),o=this.options,a;n=t.cloneNode(true);z(n,o.ghostClass,false);z(n,o.fallbackClass,true);z(n,o.dragClass,true);G(n,"top",e.top-x(i.marginTop,10));G(n,"left",e.left-x(i.marginLeft,10));G(n,"width",e.width);G(n,"height",e.height);G(n,"opacity","0.8");G(n,"position","fixed");G(n,"zIndex","100000");G(n,"pointerEvents","none");o.fallbackOnBody&&E.body.appendChild(n)||r.appendChild(n);a=n.getBoundingClientRect();G(n,"width",e.width*2-a.width);G(n,"height",e.height*2-a.height)}},_onDragStart:function(e,i){var n=e.dataTransfer,a=this.options;this._offUpEvents();if(v.checkPull(this,this,t,e)){o=ae(t);o.draggable=false;o.style["will-change"]="";G(o,"display","none");z(o,this.options.chosenClass,false);r.insertBefore(o,t);Z(this,r,"clone",t)}z(t,a.dragClass,true);if(i){if(i==="touch"){V(E,"touchmove",this._onTouchMove);V(E,"touchend",this._onDrop);V(E,"touchcancel",this._onDrop);V(E,"pointermove",this._onTouchMove);V(E,"pointerup",this._onDrop)}else{V(E,"mousemove",this._onTouchMove);V(E,"mouseup",this._onDrop)}this._loopId=setInterval(this._emulateDragOver,50)}else{if(n){n.effectAllowed="move";a.setData&&a.setData.call(this,n,t)}V(E,"drop",this);setTimeout(this._dragStarted,0)}},_onDragOver:function(e){var s=this.el,l,f,c,p,g=this.options,b=g.group,_=F.active,D=v===b,w=false,S=g.sort;if(e.preventDefault!==void 0){e.preventDefault();!g.dragoverBubble&&e.stopPropagation()}if(t.animated){return}y=true;if(_&&!g.disabled&&(D?S||(p=!r.contains(t)):m===this||(_.lastPullMode=v.checkPull(this,_,t,e))&&b.checkPut(this,_,t,e))&&(e.rootEl===void 0||e.rootEl===this.el)){I(e,g,this.el);if(X){return}l=j(e.target,g.draggable,s);f=t.getBoundingClientRect();if(m!==this){m=this;w=true}if(p){U(_,true);i=r;if(o||a){r.insertBefore(t,o||a)}else if(!S){r.appendChild(t)}return}if(s.children.length===0||s.children[0]===n||s===e.target&&ee(s,e)){if(s.children.length!==0&&s.children[0]!==n&&s===e.target){l=s.lastElementChild}if(l){if(l.animated){return}c=l.getBoundingClientRect()}U(_,D);if(J(r,s,t,f,l,c,e)!==false){if(!t.contains(s)){s.appendChild(t);i=s}this._animate(f,t);l&&this._animate(c,l)}}else if(l&&!l.animated&&l!==t&&l.parentNode[C]!==void 0){if(u!==l){u=l;h=G(l);d=G(l.parentNode)}c=l.getBoundingClientRect();var E=c.right-c.left,x=c.bottom-c.top,N=T.test(h.cssFloat+h.display)||d.display=="flex"&&d["flex-direction"].indexOf("row")===0,k=l.offsetWidth>t.offsetWidth,B=l.offsetHeight>t.offsetHeight,Y=(N?(e.clientX-c.left)/E:(e.clientY-c.top)/x)>.5,O=l.nextElementSibling,A=false;if(N){var M=t.offsetTop,P=l.offsetTop;if(M===P){A=l.previousElementSibling===t&&!k||Y&&k}else if(l.previousElementSibling===t||t.previousElementSibling===l){A=(e.clientY-c.top)/x>.5}else{A=P>M}}else if(!w){A=O!==t&&!B||Y&&B}var R=J(r,s,t,f,l,c,e,A);if(R!==false){if(R===1||R===-1){A=R===1}X=true;setTimeout($,30);U(_,D);if(!t.contains(s)){if(A&&!O){s.appendChild(t)}else{l.parentNode.insertBefore(t,A?O:l)}}i=t.parentNode;this._animate(f,t);this._animate(c,l)}}}},_animate:function(e,t){var i=this.options.animation;if(i){var n=t.getBoundingClientRect();if(e.nodeType===1){e=e.getBoundingClientRect()}G(t,"transition","none");G(t,"transform","translate3d("+(e.left-n.left)+"px,"+(e.top-n.top)+"px,0)");t.offsetWidth;G(t,"transition","all "+i+"ms");G(t,"transform","translate3d(0,0,0)");clearTimeout(t.animated);t.animated=setTimeout(function(){G(t,"transition","");G(t,"transform","");t.animated=false},i)}},_offUpEvents:function(){var e=this.el.ownerDocument;q(E,"touchmove",this._onTouchMove);q(E,"pointermove",this._onTouchMove);q(e,"mouseup",this._onDrop);q(e,"touchend",this._onDrop);q(e,"pointerup",this._onDrop);q(e,"touchcancel",this._onDrop);q(e,"pointercancel",this._onDrop);q(e,"selectstart",this)},_onDrop:function(e){if(!e)return;var s=this.el,l=this.options;clearInterval(this._loopId);clearInterval(b.pid);clearTimeout(this._dragStartTimer);q(E,"mousemove",this._onTouchMove);if(this.nativeDraggable){q(E,"drop",this);q(s,"dragstart",this._onDragStart)}this._offUpEvents();if(e){if(y){e.preventDefault();!l.dropBubble&&e.stopPropagation()}n&&n.parentNode&&n.parentNode.removeChild(n);if(r===i||F.active.lastPullMode!=="clone"){o&&o.parentNode&&o.parentNode.removeChild(o)}if(t){if(this.nativeDraggable){q(t,"dragend",this)}K(t);t.style["will-change"]="";z(t,this.options.ghostClass,false);z(t,this.options.chosenClass,false);Z(this,r,"unchoose",t,r,p);if(r!==i){g=ie(t,l.draggable);if(g>=0){Z(null,i,"add",t,r,p,g);Z(this,r,"remove",t,r,p,g);Z(null,i,"sort",t,r,p,g);Z(this,r,"sort",t,r,p,g)}}else{if(t.nextSibling!==a){g=ie(t,l.draggable);if(g>=0){Z(this,r,"update",t,r,p,g);Z(this,r,"sort",t,r,p,g)}}}if(F.active){if(g==null||g===-1){g=p}Z(this,r,"end",t,r,p,g);this.save()}}}this._nulling()},_nulling:function(){r=t=i=n=a=o=s=l=f=_=D=y=g=u=h=m=v=F.active=null;P.forEach(function(e){e.checked=true});P.length=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragover":case"dragenter":if(t){this._onDragOver(e);W(e)}break;case"selectstart":e.preventDefault();break}},toArray:function(){var e=[],t,i=this.el.children,n=0,o=i.length,r=this.options;for(;n<o;n++){t=i[n];if(j(t,r.draggable,this.el)){e.push(t.getAttribute(r.dataIdAttr)||te(t))}}return e},sort:function(e){var t={},i=this.el;this.toArray().forEach(function(e,n){var o=i.children[n];if(j(o,this.options.draggable,i)){t[e]=o}},this);e.forEach(function(e){if(t[e]){i.removeChild(t[e]);i.appendChild(t[e])}})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return j(e,t||this.options.draggable,this.el)},option:function(e,t){var i=this.options;if(t===void 0){return i[e]}else{i[e]=t;if(e==="group"){L(i)}}},destroy:function(){var e=this.el;e[C]=null;q(e,"mousedown",this._onTapStart);q(e,"touchstart",this._onTapStart);q(e,"pointerdown",this._onTapStart);if(this.nativeDraggable){q(e,"dragover",this);q(e,"dragenter",this)}Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")});R.splice(R.indexOf(this._onDragOver),1);this._onDrop();this.el=e=null}};function U(e,i){if(e.lastPullMode!=="clone"){i=true}if(o&&o.state!==i){G(o,"display",i?"none":"");if(!i){if(o.state){if(e.options.group.revertClone){r.insertBefore(o,a);e._animate(t,o)}else{r.insertBefore(o,t)}}}o.state=i}}function j(e,t,i){if(e){i=i||E;do{if(t===">*"&&e.parentNode===i||ne(e,t)){return e}}while(e=H(e))}return null}function H(e){var t=e.host;return t&&t.nodeType?t:e.parentNode}function W(e){if(e.dataTransfer){e.dataTransfer.dropEffect="move"}e.preventDefault()}function V(e,t,i){e.addEventListener(t,i,B)}function q(e,t,i){e.removeEventListener(t,i,B)}function z(e,t,i){if(e){if(e.classList){e.classList[i?"add":"remove"](t)}else{var n=(" "+e.className+" ").replace(w," ").replace(" "+t+" "," ");e.className=(n+(i?" "+t:"")).replace(w," ")}}}function G(e,t,i){var n=e&&e.style;if(n){if(i===void 0){if(E.defaultView&&E.defaultView.getComputedStyle){i=E.defaultView.getComputedStyle(e,"")}else if(e.currentStyle){i=e.currentStyle}return t===void 0?i:i[t]}else{if(!(t in n)){t="-webkit-"+t}n[t]=i+(typeof i==="string"?"":"px")}}}function Q(e,t,i){if(e){var n=e.getElementsByTagName(t),o=0,r=n.length;if(i){for(;o<r;o++){i(n[o],o)}}return n}return[]}function Z(e,t,i,n,r,a,s){e=e||t[C];var l=E.createEvent("Event"),f=e.options,c="on"+i.charAt(0).toUpperCase()+i.substr(1);l.initEvent(i,true,true);l.to=t;l.from=r||t;l.item=n||t;l.clone=o;l.oldIndex=a;l.newIndex=s;t.dispatchEvent(l);if(f[c]){f[c].call(e,l)}}function J(e,t,i,n,o,r,a,s){var l,f=e[C],c=f.options.onMove,u;l=E.createEvent("Event");l.initEvent("move",true,true);l.to=t;l.from=e;l.dragged=i;l.draggedRect=n;l.related=o||t;l.relatedRect=r||t.getBoundingClientRect();l.willInsertAfter=s;e.dispatchEvent(l);if(c){u=c.call(f,l,a)}return u}function K(e){e.draggable=false}function $(){X=false}function ee(e,t){var i=e.lastElementChild,n=i.getBoundingClientRect();return t.clientY-(n.top+n.height)>5||t.clientX-(n.left+n.width)>5}function te(e){var t=e.tagName+e.className+e.src+e.href+e.textContent,i=t.length,n=0;while(i--){n+=t.charCodeAt(i)}return n.toString(36)}function ie(e,t){var i=0;if(!e||!e.parentNode){return-1}while(e&&(e=e.previousElementSibling)){if(e.nodeName.toUpperCase()!=="TEMPLATE"&&(t===">*"||ne(e,t))){i++}}return i}function ne(e,t){if(e){t=t.split(".");var i=t.shift().toUpperCase(),n=new RegExp("\\s("+t.join("|")+")(?=\\s)","g");return(i===""||e.nodeName.toUpperCase()==i)&&(!t.length||((" "+e.className+" ").match(n)||[]).length==t.length)}return false}function oe(e,t){var i,n;return function(){if(i===void 0){i=arguments;n=this;setTimeout(function(){if(i.length===1){e.call(n,i[0])}else{e.apply(n,i)}i=void 0},t)}}}function re(e,t){if(e&&t){for(var i in t){if(t.hasOwnProperty(i)){e[i]=t[i]}}}return e}function ae(e){return N?N(e).clone(true)[0]:k&&k.dom?k.dom(e).cloneNode(true):e.cloneNode(true)}function se(e){var t=e.getElementsByTagName("input");var i=t.length;while(i--){var n=t[i];n.checked&&P.push(n)}}V(E,"touchmove",function(e){if(F.active){e.preventDefault()}});try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){B={capture:false,passive:false}}}))}catch(e){}F.utils={on:V,off:q,css:G,find:Q,is:function(e,t){return!!j(e,t,e)},extend:re,throttle:oe,closest:j,toggleClass:z,clone:ae,index:ie};F.create=function(e,t){return new F(e,t)};F.version="1.6.1";return F});