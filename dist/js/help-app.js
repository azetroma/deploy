// داشبورد مدیریتی صدف info@sadafdashboard.ir 

function getHelpLinkById(a){var b;return _.each(helpMenus,function(c){var d=_.find(c.menus,{id:+a});b||(b=d)}),console.log(b),b.url}angular.module("uibCollapseCat",[]).directive("uibCollapse",["$animate","$q","$parse","$injector",function(a,b,c,d){var e=d.has("$animateCss")?d.get("$animateCss"):null;return{link:function(d,f,g){function h(){f.hasClass("collapse")&&f.hasClass("in")||b.resolve(l(d)).then(function(){f.removeClass("collapse").addClass("collapsing").attr("aria-expanded",!0).attr("aria-hidden",!1),e?e(f,{addClass:"in",easing:"ease",to:{height:f[0].scrollHeight+"px"}}).start()["finally"](i):a.addClass(f,"in",{to:{height:f[0].scrollHeight+"px"}}).then(i)})}function i(){f.removeClass("collapsing").addClass("collapse").css({height:"auto"}),m(d)}function j(){return f.hasClass("collapse")||f.hasClass("in")?void b.resolve(n(d)).then(function(){f.css({height:f[0].scrollHeight+"px"}).removeClass("collapse").addClass("collapsing").attr("aria-expanded",!1).attr("aria-hidden",!0),e?e(f,{removeClass:"in",to:{height:"0"}}).start()["finally"](k):a.removeClass(f,"in",{to:{height:"0"}}).then(k)}):k()}function k(){f.css({height:"0"}),f.removeClass("collapsing").addClass("collapse"),o(d)}var l=c(g.expanding),m=c(g.expanded),n=c(g.collapsing),o=c(g.collapsed);d.$eval(g.uibCollapse)||f.addClass("in").addClass("collapse").attr("aria-expanded",!0).attr("aria-hidden",!1).css({height:"auto"}),d.$watch(g.uibCollapse,function(a){a?j():h()})}}}]);var ngApp=angular.module("sadafHelp",["ngRoute","ui.sortable","pascalprecht.translate","ngSanitize","uibCollapseCat"]);ngApp.config(["$translateProvider",function(a){a.useStaticFilesLoader({prefix:app.urlPrefix+"dist/locales/locale-",suffix:".js"}),a.preferredLanguage("fa"),a.useSanitizeValueStrategy("sanitizeParameters")}]);var ngApp=angular.module("sadafHelp");ngApp.directive("onFinishRender",["$timeout",function(a){return{restrict:"A",link:function(b,c,d){b.$last===!0&&a(function(){b.$emit(d.onFinishRender)})}}}]);var helpMenus=[{id:1,name:"منابع داده",menus:[{id:1,name:"ذخیره تاریخچه",url:app.urlPrefix+"dist/partial/help/content/DataSource/FileHistory.html"},{id:2,name:"ارتباط بین منابع داده",url:app.urlPrefix+"dist/partial/help/content/DataSource/DatasurceInterRelation.html"},{id:3,name:"متغیر در ساخت منبع داده",url:app.urlPrefix+"dist/partial/help/content/DataSource/MsOlapQuery.html"}]},{id:2,name:"نمودارها",menus:[{id:4,name:"نقشه",url:app.urlPrefix+"dist/partial/help/content/Charts/Map/General.html"},{id:5,name:"آپلود کردن نقشه",url:app.urlPrefix+"dist/partial/help/content/Charts/Map/UploadMap.html"},{id:7,name:"نمودار درختی",url:app.urlPrefix+"dist/partial/help/content/Charts/TreeChart.html"}]},{id:3,name:"تنظیمات عمومی",menus:[{id:6,name:"پست الکترونیک",url:app.urlPrefix+"dist/partial/help/content/Settings/Mail.html"}]}];ngApp.controller("sideMenuCtrl",["$scope","$http","$sce","$routeParams","$location","$timeout","$translate","$rootScope",function(a,b,c,d,e,f,g,h){var i=this;i.app=app,i.parents=helpMenus,i.closeAll=function(a){var b=a.open;_.each(i.parents,function(a){a.open=!1,a.active=!1}),a.open=!b,a.active=!b},a.$on("$locationChangeStart",function(a,b,c){if(/\/content\/\d+/.test(e.path())){var d=+e.path().replace(/\/content\/(\d+)/gi,"$1");_.each(i.parents,function(a){a.active=!1,a.open=!1,_.each(a.menus,function(b){b.active=!1,b.id==d&&(a.active=!0,a.open=!0,b.active=!0)})})}});var j=[];_.each(helpMenus,function(a){_.each(a.menus,function(b){j.push({id:b.id,title:b.name,xurl:b.url,parent:a.name})})}),$.fn.search.settings.templates.message=function(a,b){return'<div style="padding:10px;">'+a+"</div>"},$(".ui.search").search({source:j,minCharacters:0,error:{source:"Cannot search. No source used, and Semantic API module was not included",noResults:"نتیجه‌ای یافت نشد",logging:"Error in debug logging, exiting.",noTemplate:"A valid template name was not specified.",serverError:"There was an issue with querying the server.",maxResults:"Results must be an array to use maxResults setting",method:"The method you called is not defined."},onSelect:function(a,b){f(function(){console.log(a),e.path("/content/"+a.id)},0)}})}]),ngApp.controller("contentCtrl",["$scope","$http","$sce","$routeParams","$rootScope","$timeout","$q","$rootScope",function(a,b,c,d,e,f,g,e){this.id=d.id}]),ngApp.config(["$routeProvider","$locationProvider",function(a,b){a.when("/content/:id",{templateUrl:function(a){return getHelpLinkById(a.id)},controller:"contentCtrl"})}]);