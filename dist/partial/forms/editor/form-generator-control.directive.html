<div class="field form-control {{model.name}} type-{{model.type}} form-{{randomId}} {{settings.fromMultiRow ? '' :  model.columnClass + ' wide column'}} {{ !model.canEdit? 'disabled':''}} {{ !model.canView? 'ng-hide':''}} {{(model.hidden && !edit ) ? 'ng-hide':''}}">
    <span ng-show="model.hidden && edit" class="material-icons small small-size hidden-mark">remove_red_eye</span>

    <div class="control-actions" ng-show="edit">
        <span class="material-icons small small-size pointer gray" ng-click="remove()">delete</span>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 0">
        <label ng-hide="settings.showLabel===false">{{model.label}} </label>
        <input ng-hide="model.readonly" type="text" name="model.name" ng-model="model.value" placeholder="{{model.label}}" ng-keyup="keyup($event)">
        <div ng-show="model.readonly">{{model.value}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 1">
        <label ng-hide="settings.showLabel===false">{{model.label}} </label>
        <textarea class="sadaf-form-textarea" ng-hide="model.readonly" ng-model="model.value" ng-keyup="keyup($event)"></textarea>
        <div ng-show="model.readonly">{{model.value}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}} " ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 2">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <div class="formatted-input-container">
            <input type="number" placeholder="{{model.label}}" id="id-{{randomId}}-{{model.name}}" ng-hide="model.readonly" ng-model="model.value" ng-keyup="keyup($event)">
            <label class="formatted-input-label" for="id-{{randomId}}-{{model.name}}" ng-hide="model.readonly">{{model.value | d3format:model.format}}</label>
        </div>
        <div ng-show="model.readonly">{{model.value | d3format:model.format}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 6">
        <div ng-hide="settings.showLabel===false || model.readonly">&nbsp;</div>
        <sadaf-checkbox ng-hide="model.readonly" ng-model="model.value" label="{{model.label}}">
            {{model.label}}
        </sadaf-checkbox>
        <div ng-show="model.readonly">
            <i class="icon" ng-class="{'square outline':!model.value, 'checkmark box':model.value}"></i>
            <b ng-hide="settings.showLabel===false">{{model.label}}</b>
        </div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 7">
        هنوز پیاده‌سازی نشده است
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.name}} form-{{id}} index-{{model.rowIndex}} {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 4">
        <label ng-hide="settings.showLabel===false">{{model.label}} </label>
        <div ng-if="model.dropdown.multiSelectDropdown && model.dropdown.useRemoteData" ng-hide="model.readonly">
            <sadaf-dropdwon ng-keyup="keyup($event)" ng-model="model" form-id="{{id}}" class="multiple" edit="{{edit}}"></sadaf-dropdwon>
        </div>

        <div ng-show="model.readonly" ng-if="model.dropdown.multiSelectDropdown && !model.dropdown.useRemoteData">
            {{model.dropdown.listValue.join(', ')}}
        </div>

        <sm-dropdown ng-hide="model.readonly"
                     ng-if="model.dropdown.multiSelectDropdown && !model.dropdown.useRemoteData"
                     class="selection multiple search fluid"
                     model="model.dropdown.listValue"
                     items="model.dropdown.items"
                     label="item.label"
                     value="item.value"
                     settings="simpleDropdownsettings"
                     default-text="model.value" ng-keyup="keyup($event)"></sm-dropdown>

        <div ng-if="!model.dropdown.multiSelectDropdown && model.dropdown.useRemoteData" ng-hide="model.readonly">
            <sadaf-dropdwon ng-model="model" form-id="{{id}}" edit="{{edit}}"></sadaf-dropdwon>
        </div>
        <div ng-show="model.readonly" ng-if="model.dropdown.useRemoteData">
            {{model.dropdown.selected.join(', ')}}
        </div>

        <div ng-show="model.readonly" ng-if="!model.dropdown.multiSelectDropdown && !model.dropdown.useRemoteData">
            {{_.find(model.dropdown.items, {value: model.value}).label}}
        </div>
        <sm-dropdown ng-hide="model.readonly"
                     ng-if="!model.dropdown.multiSelectDropdown && !model.dropdown.useRemoteData"
                     class="selection fluid"
                     model="model.value"
                     items="model.dropdown.items"
                     label="item.label"
                     value="item.value"
                     default-text="model.value"
                     ng-keyup="keyup($event)"></sm-dropdown>

        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field" ng-if="model.type == 3">
        <label ng-hide="settings.showLabel===false">{{model.label}} </label>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 9">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <sadaf-calendar ng-hide="model.readonly" ng-model="model.value" sd-keyup="keyup($event)"></sadaf-calendar>
        <div ng-show="model.readonly">{{model.value | persian}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>
    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 14">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <sadaf-date-time ng-hide="model.readonly" ng-model="model.value" sd-keyup="keyup($event)"></sadaf-date-time>
        <div ng-show="model.readonly">{{model.value | persian}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}} {{model.name}} form-{{id}}-type-12" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 12">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <new-form-modal ng-if="model.formLookup.showAddButton" ng-model="model.formDialogInfo" ></new-form-modal>
        <div class="fields">
            <form-lookup-get-id ng-keyup="keyup($event)" ng-hide="model.readonly" ng-model="model" id="{{id}}" ng-style="model.formLookup.showAddButton && {width: 'calc(100% - 32px)'} || {width: '100%'}"></form-lookup-get-id>
            <i ng-hide="model.readonly" ng-if="model.formLookup.showAddButton" class="icon add circular inverted teal pointer" ng-click="showFormInModal()" style="margin:5px 10px 0 0;" xstyle="position: absolute; left: 0; top: 5px;"></i>
        </div>
        <div ng-show="model.readonly">{{model.formLookup.selected ? model.formLookup.selected.join(', ') : model.formLookup.keyControlsBindedValue.join(', ')}}</div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}} {{model.name}} form-{{id}}-type-13" ng-class="{required : model.validations.isRequire, error: model.error}" ng-if="model.type == 13">
        <multi-row-form ng-model="model" id="{{id}}" edit="{{edit}}"></multi-row-form>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}} {{model.name}} form-{{id}}-type-13"
         ng-class="{required : model.validations.isRequire, error: model.error}"
         ng-if="model.type == 15">
        <label>&nbsp;</label>
        <div class="ui submit button fluid {{model.button.colorClass}} {{model.button.size}}" ng-class="{'loading disabled': model.progress}" ng-click="buttonClick()">{{model.label}}</div>
        <div></div>
        <small>{{model.description}}</small>
        <!--<new-form-modal ng-model="model.button"></new-form-modal>-->
    </div>

    <div class="field " ng-class="{error: model.error}" ng-if="model.type == 5">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <div class="calculate-field">
            <div ng-show="edit" class="ltr formula gray"><small> {{model.calculate.expression}}</small></div>
            <div ng-hide="edit"><span>{{model.value | formatNumber:model.format | persian}}</span></div>
        </div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field " ng-class="{error: model.error}" ng-if="model.type == 16">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <div class="calculate-field">
            <div ng-show="edit" class="ltr formula gray">
                <small>
                    <span>{{model.prefix}} </span>
                    {{model.calculate.expression}}
                    <span> {{model.postfix}}</span>
                </small>
            </div>
            <div ng-hide="edit">
                <span>{{model.prefix}} </span>
                <span>{{model.value | formatNumber:model.format | persian}}</span>
                <span> {{model.postfix}}</span>

            </div>
        </div>
        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

    <div class="field {{model.validations.isRequire ? 'required' : ''}}" ng-class="{error: model.error, required:model.validations.isRequire}" ng-if="model.type == 8">
        <label ng-hide="settings.showLabel===false">{{model.label}} </label>
        <sadaf-time ng-hide="model.readonly" ng-keyup="keyup($event)" ng-model="model.value" ng-change="onChange()"></sadaf-time>

        <div ng-show="model.readonly">{{model.value}}</div>

        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>


    <div class="field " ng-class="{error: model.error}" ng-if="model.type == 17">
        <label ng-hide="settings.showLabel===false">{{model.label}}</label>
        <div class="calculate-field">
            <div ng-show="edit" class="ltr formula gray">
                <small>
                    <span>{{model.prefix}} </span>
                    lookup
                    <span> {{model.postfix}}</span>
                </small>
            </div>
            <div ng-hide="edit">
                <div xng-show="model.inProgress" ng-class="{active: model.inProgress}" class="ui dimmer inverted"><div class="ui mini inline loader"></div></div>
                <span>{{model.prefix}} </span>
                <span ng-show="model.value!=null">{{model.value | formatNumber:model.format | persian}}</span>
                <span> {{model.postfix}}</span>&nbsp;
            </div>
        </div>

        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>


    <div class="" ng-class="{error: model.error}" ng-if="model.type == 18" >
        <h3 class="" style="xmargin-top:40px;color:rgba(0,0,0,.87);">{{model.label}}</h3>
        <hr />
        <small>{{model.description}}</small>
    </div>

    <div class="field " ng-class="{error: model.error}" ng-if="model.type == 19">
        <sadaf-file ng-model="model"></sadaf-file>

        <small class="helper">{{model.error}}</small>
        <div></div>
        <small>{{model.description}}</small>
    </div>

</div> 