<!--<p ng-click="showRoles = !showRoles" layout="row" class="pointer" layout-align="start center">
    <span class="material-icons icon-animate right-arrow" ng-class="{'rotate-90' : showRoles}">keyboard_arrow_right</span>
    <span>{{'permissions' | translate}}</span>
</p>
<div uib-collapse="!showRoles" style="margin:0 20px">
    <div ng-repeat="role in roles" layout="row" layout-align="start center" style="margin:5px 0;">
        <md-checkbox ng-model="role.check" aria-label="انتخاب">
            {{role.name}}
        </md-checkbox>
        <span flex></span>
        <md-select style="margin:0" class="" ng-model="role.action" ng-style="{'visibility' : role.check ? 'visible':'hidden'}" aria-label="مجوز">
            <md-option value="1">{{'permission_view' | translate}}</md-option>
            <md-option value="2">{{'permission_view_edit' | translate}}</md-option>
            <md-option value="4">{{'permission_view_edit_delete' | translate}}</md-option>
        </md-select>
    </div>
</div>-->


<p ng-click="showRoles = !showRoles" layout="row" class="pointer" layout-align="start center">
    <i class="icon-animate ui icon angle left" ng-class="{'rotate-90' : showRoles}" style="width:30px;"></i>
    <span>{{'permissions' | translate}}</span>
</p>
<div uib-collapse="!showRoles" xstyle="margin:0 20px">
    <div class="sadaf-tree" style="margin: 0 40px;">
        <div class="tree-element ul" style="list-style:none">
            <div ng-repeat="data in root.nodes track by $index" class="tree-element li" ng-include="'role-tree.html'"></div>
        </div>
    </div>
</div>
<div>
    <script type="text/ng-template" id="role-tree.html">
        <collapse class="block" ng-model="data" hide-icon="{{(!data.nodes || !data.nodes.length ) &&  ( !data.contents || !data.contents.length) }}">
            <collapse-header class="block hide-item-parent" flex>
                <div flex style="margin:0" layout="row" layout-align="start center">
                    <md-checkbox style="margin:5px 0;" ng-model="data.check" ng-click="$event.stopPropagation()">{{data.name}}</md-checkbox>
                    <span flex></span>
                    <md-select ng-click="$event.stopPropagation()" style="margin:0; display:inline-block;" class="" ng-model="data.action" ng-style="{'visibility' : data.check ? 'visible':'hidden'}" aria-label="مجوز">
                        <md-option value="1">{{'permission_view' | translate}}</md-option>
                        <md-option value="2">{{'permission_view_edit' | translate}}</md-option>
                        <md-option value="4">{{'permission_view_edit_delete' | translate}}</md-option>
                    </md-select>

                </div>
            </collapse-header>
            <collapse-body class="block">
                <div class="tree-element ul" style="list-style:none">
                    <div ng-repeat="data in data.nodes track by $index" class="tree-element li" ng-include="'role-tree.html'"></div>
                </div>
            </collapse-body>
        </collapse>
    </script>
</div>