
<md-dialog aria-label="زمانبندی" ng-cloak >
    <md-toolbar>
        <div class="md-toolbar-tools">
            <h2>زمانبندی</h2>
            {{title}}
            <span flex></span>
            <md-button class="md-icon-button" ng-click="cancel()">
                <span class="material-icons">close</span>
            </md-button>
        </div>
    </md-toolbar>
    <md-dialog-content class="md-dialog-contentx" style="min-width:500px">
        <div layout="column" layout-paddingz>

            <div layout="column" layout-padding>
                <md-input-container class="md-block">
                    <label>اجرا به صورت</label>
                    <md-select ng-model="model.occure ">
                        <md-option value="daily">روزانه</md-option>
                        <md-option value="weekly">هفتگی</md-option>
                        <md-option value="monthly">ماهانه</md-option>
                    </md-select>
                </md-input-container>

                <md-input-container class="md-block" ng-show="model.occure=='daily'">
                    <label>تکرار <small>- هر چند روز یکبار اجرا شود</small></label>
                    <input type="text" class="form-control" placeholder="" ng-model="model.dailyRecurs" />
                </md-input-container>

                <md-input-container class="md-block" ng-show="model.occure=='weekly'">
                    <label>تکرار<small>- هر چند هفته یکبار اجرا شود</small></label>
                    <input type="text" class="form-control" placeholder="" ng-model="model.weeklyRecurs" />
                </md-input-container>

                <fieldset class="standard" ng-show="model.occure=='weekly'">
                    <legend>اجرا در روزهای </legend>
                    <md-checkbox type="checkbox" ng-model="model.weeklySat">شنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklySun">یکشنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklyMon">دو شنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklyTus">سه شنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklyWen">چهار شنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklyThu">پنج شنبه</md-checkbox>
                    <md-checkbox type="checkbox" ng-model="model.weeklyFri">جمعه</md-checkbox>
                </fieldset>
            </div>

            <div layout="row" ng-show="model.occure=='monthly'" layout-margin>
                <md-input-container ng-show="model.occure=='monthly'">
                    <label>روز چندم ماه</label>
                    <input type="text" ng-model="model.monthlyDayOf" />
                </md-input-container>

                <md-input-container ng-show="model.occure=='monthly'">
                    <label>هر چند ماه</label>
                    <input type="text" ng-model="model.monthlyRecurs" />
                </md-input-container>
            </div>

            <div layout="row" layout-margin >
                <md-input-container flex>
                    <md-select ng-model="model.dailyFrequency" aria-label="روش اجرا">
                        <md-option value="once">اجرا راس ساعت</md-option>
                        <md-option value="recur">تکرار به صورت ساعتی</md-option>
                    </md-select>
                </md-input-container>

                <md-input-container  ng-if="model.dailyFrequency=='once'">
                    <input type="text" ng-model="model.dailyFrequencyAtHour" ui-mask="29:69" aria-label="اجرا راس ساعت">
                </md-input-container>

                <md-input-container flex ng-if="model.dailyFrequency=='recur'">
                    <input type="text" class="form-control" placeholder="تکرار" 
                           ng-change="checkValue()"
                           ng-model-options="{ updateOn: 'blur' }" 
                           ng-model="model.dailyFrequencyRecur" 
                           />
                </md-input-container>

                <md-input-container  ng-if="model.dailyFrequency=='recur'">
                    <md-select ng-model="model.dailyFrequencyRecurType" aria-label="واحد ساعت">
                        <md-option value="hour">ساعت</md-option>
                        <md-option value="minute">دقیقه</md-option>
                        <md-option value="second">ثانیه</md-option>
                    </md-select>
                </md-input-container>
            </div>

            <div layout="row" layout-margin>
                <md-input-container flex ng-show="model.dailyFrequency=='recur'">
                    <label>شروع اجرا</label>
                    <input type="text" name="clock" class="form-control ltr" ng-model="model.dailyFrequencyStart" ui-mask="29:69">
                </md-input-container>

                <md-input-container flex ng-show="model.dailyFrequency=='recur'">
                    <label>توقف اجرا</label>
                    <input type="text" class="form-control ltr" ng-model="model.dailyFrequencyStop" ui-mask="29:69">
                </md-input-container>
            </div>
        </div>

    </md-dialog-content>
    <md-dialog-actions layout="row">
        <md-button ng-click="save()">ذخیره</md-button>
    </md-dialog-actions>
</md-dialog>