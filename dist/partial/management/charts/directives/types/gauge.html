<menu-container open-menu-name="openMenuName">

    <menu-item>
        <menu-header>{{ 'تنظیمات کلی' | translate }}</menu-header>
        <menu-body>
            <div>

                <input type="hidden" data-prop="canExportXlsx" value="true" />

                <general-settings ng-model="ngModel.gauge.info"></general-settings>




                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'نوع' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.segmentType" class="selectpicker-x form-control">
                            <option value="multiSegment">{{ 'چند بخشی' | translate }}</option>
                            <option value="singleSegment" selected="selected">{{ 'یک بخشی' | translate }}</option>
                        </select>
                    </div>
                </div>

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'شکل نمودار عقربه‌ای' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.style" class="selectpicker-x form-control">
                            <option value="horizontal">{{ 'افقی' | translate }}</option>
                            <option value="arc" selected="selected">{{ 'هلال' | translate }}</option>
                        </select>
                    </div>
                </div>


                <div class="form-row" layout="row" layout-align="start center">
                    <div class="col-sm-offset-4 col-sm-8">
                        <div class="checkbox">
                            <label class="">
                                <input type="checkbox" ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.showLabels" checked="checked" />{{ 'نمایش برچسب داده‌ها' | translate }}
                            </label>
                        </div>
                    </div>
                </div>

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'قطر' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select class="selectpicker-x form-control" ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.height">
                            <option value="small">{{ 'کوچک' | translate }}</option>
                            <option value="medium" selected="selected">{{ 'متوسط' | translate }}</option>
                            <option value="large">{{ 'بزرگ' | translate }}</option>
                            <option value="veryLarge">{{ 'خیلی بزرگ' | translate }}</option>
                        </select>
                    </div>
                </div>

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'پیش فرض مقدار' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <input type="text" class="form-control" placeholder="{{ 'پیش فرض مقدار' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.value" />
                    </div>
                </div>
                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'پیش فرض هدف' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <input type="text" class="form-control" placeholder="{{ 'پیش فرض هدف' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.target" />
                    </div>
                </div>
                <div class="form-row" layout="row" layout-align="start center" ng-show="ngModel.gauge.info.segmentType == 'singleSegment'">
                    <label class="col-sm-4">{{ 'پیش فرض وضعیت' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <input type="text" class="form-control" placeholder="{{ 'پیش فرض وضعیت' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.status" />
                    </div>
                </div>
                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'پیش فرض روند' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <input type="text" class="form-control" placeholder="{{ 'پیش فرض روند' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.trend" />
                    </div>
                </div>

                <div class="multi-segment" ng-show="ngModel.gauge.info.segmentType == 'multiSegment'">
                    <div class="form-row" layout="row" layout-align="start center">
                        <label class="col-sm-4">{{ 'پیش فرض کمترین' | translate }}</label>
                        <span class="form-divider" flex></span><div class="col-sm-8">
                            <input type="text" class="form-control" placeholder="{{ 'پیش فرض کمترین' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.min" />
                        </div>
                    </div>
                    <div class="form-row" layout="row" layout-align="start center">
                        <label class="col-sm-4">{{ 'پیش فرض مرز اول' | translate }}</label>
                        <span class="form-divider" flex></span><div class="col-sm-8">
                            <input type="text" class="form-control" placeholder="{{ 'پیش فرض مرز اول' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.yellow" />
                        </div>
                    </div>
                    <div class="form-row" layout="row" layout-align="start center">
                        <label class="col-sm-4">{{ 'پیش فرض مرز دوم' | translate }}</label>
                        <span class="form-divider" flex></span><div class="col-sm-8">
                            <input type="text" class="form-control" placeholder="{{ 'پیش فرض مرز دوم' | translate }}" ng-change="refreshChart('refresh')" ng-model-options="{ updateOn: 'blur' }" ng-model="ngModel.gauge.info.green" />
                        </div>
                    </div>
                    <div class="form-row" layout="row" layout-align="start center">
                        <label class="col-sm-4">{{ 'پیش فرض بیشترین' | translate }}</label>
                        <span class="form-divider" flex></span><div class="col-sm-8">
                            <input type="text" class="form-control" placeholder="{{ 'پیش فرض بیشترین' | translate }}" ng-model-options="{ updateOn: 'blur' }" ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.max" />
                        </div>
                    </div>
                </div>


                <!--formatString-->
                <div class="form-row" layout="row" layout-align="start center">
                    <label>{{ 'فونت' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <text-editor prop="ngModel.gauge.info.font"></text-editor>
                </div>

                <!--<div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'قالب نوشته‌' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select class="selectpicker-x form-control" ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.formatString">
                            <option value="A">{{ 'عادی' | translate }}</option>
                            <option value="%">{{ 'درصد' | translate }}</option>
                            <option value=",.0f">#,#</option>
                            <option value=",.1f">#,#.0</option>
                            <option value=",.2f" selected="selected">#,#.00</option>
                        </select>
                    </div>
                </div>

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'اندازه نوشته' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select ng-change="refreshChart('refresh')" ng-model="ngModel.gauge.info.fontSize" class="selectpicker-x form-control">
                            <option value="1em">{{ 'خیلی کوچک' | translate }}</option>
                            <option value="2em">{{ 'کوچک' | translate }}</option>
                            <option value="3em" selected="selected">{{ 'متوسط' | translate }}</option>
                            <option value="4em">{{ 'بزرگ' | translate }}</option>
                            <option value="5em">{{ 'خیلی بزرگ' | translate }}</option>
                        </select>
                    </div>
                </div>

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'حالت نوشته' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <switch-button ng-model="ngModel.gauge.info.textBold" ng-click="refreshChart('refresh') ">
                        <span><strong>B</strong></span>
                    </switch-button>
                    <switch-button ng-model="ngModel.gauge.info.textItalic" ng-click="refreshChart('refresh')">
                        <span style="font-style:italic">I</span>
                    </switch-button>
                </div>


                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'رنگ نوشته' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <div md-color-picker ng-model="ngModel.gauge.info.color" md-color-default-tab="'genericPalette'" on-change="refreshChart('refresh')"></div>
                </div>-->

                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'رنگ محدوده‌ها' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <div md-color-picker ng-model="ngModel.gauge.info.colorAriaThree" md-color-default-tab="'genericPalette'" on-change="refreshChart('refresh')"></div>
                    <div md-color-picker ng-model="ngModel.gauge.info.colorAriaTwo" md-color-default-tab="'genericPalette'" on-change="refreshChart('refresh')"></div>
                    <div md-color-picker ng-model="ngModel.gauge.info.colorAriaOne" md-color-default-tab="'genericPalette'" on-change="refreshChart('refresh')"></div>
                </div>


            </div>
        </menu-body>
    </menu-item>

    <menu-item ng-show="ngModel.series && ngModel.series.length>0" name="series">
        <menu-header>{{ 'مشخصات شاخص‌ها' | translate }}</menu-header>
        <menu-body>
            <div style="">
                <div class="form-row" layout="row" layout-align="start center">
                    <label class="col-sm-4">{{ 'شاخص' | translate }}</label>
                    <span class="form-divider" flex></span><div class="col-sm-8">
                        <select class="selectpicker-x form-control" ng-model="ngModel.selectedSeries">
                            <option ng-repeat="i in ngModel.series" value="{{i}}">{{i}} </option>
                        </select>
                    </div>
                </div>



                <div class="form-row" layout="row" layout-align="start center" ng-show="ngModel.gauge.info.segmentType == 'singleSegment'">
                    <label class="col-sm-4">{{ 'استفاده بعنوان' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <div class="sadaf-group">
                        <label class="sadaf-group-item"
                               ng-class="ngModel.gauge.series[ngModel.selectedSeries].type==i.t?'active':''"
                               ng-repeat="i in [{t:'value', n:'مقدار'},
                                                    {t:'target', n:'هدف'},
                                                    {t:'status', n:'وضعیت'},
                                                    {t:'trend', n:'روند'}]"
                               ng-click="ngModel.gauge.series[ngModel.selectedSeries].type=i.t;refreshChart('refresh')">
                            <span>{{i.n}}</span>
                        </label>
                    </div>
                </div>


                <style>
                    .hide-input input {
                        display: none;
                    }
                </style>
                <div class="form-row" layout="row" layout-align="start center" ng-show="ngModel.gauge.info.segmentType == 'multiSegment'">
                    <label class="col-sm-4">{{ 'استفاده بعنوان' | translate }}</label>
                    <span class="form-divider" flex></span>
                    <div class="sadaf-group">
                        <label class="sadaf-group-item"
                               ng-class="ngModel.gauge.series[ngModel.selectedSeries].typeMs==i.t?'active':''"
                               ng-repeat="i in [{t:'value', n:'مقدار'},
                                                    {t:'target', n:'هدف'},
                                                    {t:'trend', n:'روند'},
                                                    {t:'min', n:'کمترین'},
                                                    {t:'yellow', n:'مرز اول'},
                                                    {t:'green', n:'مرز دوم'},
                                                    {t:'max', n:'بیشترین'}]"
                               ng-click="ngModel.gauge.series[ngModel.selectedSeries].typeMs=i.t;refreshChart('refresh')">
                            <span>{{i.n}}</span>
                        </label>
                    </div>
                </div>

                <top-measure ng-model="ngModel.gauge.series[ngModel.selectedSeries].top" ng-change="refreshChart('refreshWithData');"></top-measure>

            </div>
        </menu-body>
    </menu-item>

    <alert prop="ngModel" config="{name:'gauge'}"></alert>
    <dim-meas-where model="openMenuName" ng-if="!isOlap" dimensions="dimensions" measures="measures" where="where" datasource="datasource"></dim-meas-where>
    <filter-except related-datasource-list="relatedDatasourceList" filter-exception="filterException" datasource="datasource"></filter-except>
    <calculate-fields calculated-fields="calculatedFields"></calculate-fields>


</menu-container>
