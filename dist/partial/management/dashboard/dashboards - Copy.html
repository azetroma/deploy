<div flex layout="column">
    <md-toolbar xstyle="background-color:white; color:#666" class="md-primary md-hue-3" md-theme="t1">
        <div class="md-toolbar-tools ">

            <span flex></span>

            <md-input-container md-no-float class="md-block" style="margin-top:30px">
                <input ng-model="search" placeholder="{{'search' | translate}}">
            </md-input-container>

            <md-button class="md-icon-button " ng-click="addTimeDatasoure($event)" title="{{'Time datasource' | translate}}">
                <span class="material-icons">date_range</span>
            </md-button>

            <md-button class="md-icon-button cssFade" ng-show="canDirEdit" ng-click="dirEdit($event)" title="{{'rename_folder' | translate}}">
                <span class="material-icons">edit</span>
            </md-button>
            <md-button class="md-icon-button cssFade" ng-show="canForward" ng-click="forward($event)" title="{{'move_to_folder' | translate}}">
                <span class="material-icons">forward</span>
            </md-button>

            <md-button class="md-icon-button cssFade" ng-show="canDelete" ng-click="delete($event)" title="{{'remove' | translate}}">
                <span class="material-icons">delete</span>
            </md-button>
            <md-button class="md-icon-button cssFade" ng-show="canCopy" ng-click="copy($event)" title="{{'copy' | translate}}">
                <span class="material-icons">content_copy</span>
            </md-button>

            <md-button class="md-icon-button" ng-click="newPackage($event)" title="{{'new_folder' | translate}}">
                <span class="material-icons">create_new_folder</span>
            </md-button>
            <md-button class="md-icon-button" ng-click="newDatasource($event)" title="{{'new_datasource' | translate}}">
                <span class="material-icons">add_circle</span>
            </md-button>
        </div>
    </md-toolbar>

    <div flex layout="column">
        <md-content flex class="scroll-container">
            <table class="sadaf-table">
                <tr>
                    <th>
                        <md-checkbox ng-model="selectAllCheckbox" ng-change="selectAll()" aria-label="{{'select_all' | translate}}"></md-checkbox>
                    </th>
                    <th>#</th>
                    <th class="pointer" ng-click="sort('name')">
                        <div layout="row" layout-align="start center">
                            {{'name' | translate}}
                            <span ng-show="sortDetail['name']" ng-class="{'rotate': sortDetail['name'].isDesc}" class="material-icons icon-animate  rotate">keyboard_arrow_up</span>
                        </div>
                    </th>
                    <th class="pointer" ng-click="sort('timestamp')">
                        <div layout="row" layout-align="start center">
                            {{'last update' | translate}}
                            <span ng-show="sortDetail['timestamp']" ng-class="{'rotate': sortDetail['timestamp'].isDesc}" class="material-icons icon-animate  rotate">keyboard_arrow_up</span>
                        </div>

                    </th>

                </tr>

                <tr ng-repeat="row in data" ng-class="{active : row.select}" ng-click="row.select = !row.select; menuInvalidate()" ng-dblclick="goto(row, $event)">
                    <td width="20">
                        <md-checkbox ng-model="row.select" ng-click="$event.stopPropagation()" ng-change="menuInvalidate()" aria-label="{{'select' | translate}}"></md-checkbox>
                    </td>
                    <td width="20">{{utils.persian( (page - 1) * pageCount  + $index+1)}}</td>
                    <td><a class="pointer" href="{{app.hashUrlPrefix}}dashboards/{{row.id}}">{{row.name}}</a></td>
                    <td class="md-caption">{{utils.persian(row.lastRefresh)}}</td>
                    
                </tr>

            </table>
            <div layout="row" layout-sm="column" layout-align="space-around" ng-show="progress" layout-margin>
                <md-progress-circular md-mode="indeterminate" md-diameter="30"></md-progress-circular>
            </div>
            <div ng-hide="(data && data.length) || progress" class="md-caption" style="padding:16px; text-align:center">داده‌ای برای نمایش وجود ندارد</div>
        </md-content>
        <div class="ui pagination menu bottom attached" ng-show="data && data.length && maxPage>1">
            <a class="item" ng-class="{active: n==page}" ng-repeat="n in _.range(1, maxPage+1)" ng-click="setPage(n)">{{n}}</a>
        </div>
    </div>
</div>