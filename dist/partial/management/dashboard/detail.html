<div layout="column" flex>
    <md-content flex class="content " layout="row" no-background>
        <div flex="15" hide-sm hide-xs></div>
        <div flex="70" flex-xs="100" flex-sm="100">
            <md-card style="margin:40px 0; padding:16px">

                <div class="">
                    <h3 style="margin-bottom:40px">{{'مدیریت منو' | translate}}</h3>
                </div>

                <div>
                    <style>
                        .sadaf-form .fields label {
                            text-align: left;
                            padding-top: 4px;
                        }
                    </style>

                    <div class="ui form sadaf-form">

                        <div class="field">
                            <label>{{'name' | translate}}</label>
                            <input required ng-model="model.name">
                        </div>
                        <div class="field" ng-show="metadataModule">
                            <label>هدف</label>
                            <input required ng-model="model.purpose">
                        </div>
                        <div class="field" ng-show="metadataModule">
                            <label>شاخه کسب و کار</label>
                            <input required ng-model="model.businessBranch">
                        </div>
                        <div class="field" ng-show="metadataModule">
                            <label>زیر شاخه کسب و کار</label>
                            <input required ng-model="model.businessSubBranch">
                        </div>

                        <div class="field">
                            <sadaf-checkbox ng-model="model.active">فعال</sadaf-checkbox>
                        </div>
                        <div class="field">
                            <sadaf-checkbox ng-model="model.showWhenInactive">نمایش منو زمان غیرفعال بودن</sadaf-checkbox>
                        </div>
                        <div class="field">
                            <sadaf-checkbox ng-model="model.showTitleFullscreen">نمایش عنوان در حالت تمام صفحه</sadaf-checkbox>
                        </div>
                        <div class="field">
                            <sadaf-checkbox ng-model="model.showTitle">نمایش عنوان در حالت معمولی</sadaf-checkbox>
                        </div>

                        <div class="field" ng-show="metadataModule">
                            <label>تحلیلگر</label>
                            <sm-dropdown class="search selection fluid" model="model.analyst" label="item.name" value="item.id" items="users"></sm-dropdown>
                        </div>
                        <div class="field">
                            <label>گروه منو</label>
                            <sm-dropdown class="search selection fluid multiple" model="model.parentIds" label="item.name" value="item.id" items="menuCategories"></sm-dropdown>
                        </div>
                        <!--<div class="field">
                            <label>پروژه</label>
                            <sm-dropdown class="search selection fluid" model="model.mainMenuId" label="item.name" value="item.id" items="mainMenus"></sm-dropdown>
                        </div>-->

                        <versions id="{{id}}" type="2" on-restore="restore(model)"></versions>
                        <br />
                        <datasource-permission type="menu" id="{{id}}" ng-model="roles"></datasource-permission>
                        <br />

                        <register-notification ng-if="render" 
                                               type="'dashboard'" 
                                               ng-model="model.notifications" 
                                               onupdate="updateModel" 
                                               xng-init="model.notifications= model.notifications||{}"></register-notification>
                        
                        <br />

                        <div class="ui secondary inverted red segment" ng-show="error">
                            <strong>خطا!</strong> <span ng-bind-html="error"></span>
                        </div>
                        <!--<div class="ui secondary inverted green segment" ng-show="success">
         <span ></span>
    </div>-->


                        <div layout="row">

                            <div class="ui blue button" ng-click="save()" ng-class="{loading: saveProgress}">{{'ذخیره' | translate}} </div>
                            <div class="ui button" ng-click="cancel()">{{'cancel' | translate}} </div>

                        </div>
                    </div>

                </div>


            </md-card>
        </div>
    </md-content>
</div>


